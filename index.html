<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lukas Ljuslyktor</title>
  <style>
    :root{
      --bg:#f7f7f7; --card:#ffffff; --ink:#333; --muted:#666;
      --brand:#ffe7b3; --pill:#fff7e2; --pill-b:#f1d07a;
      --wa:#25D366; --mail:#ffca70;
    }
    *{box-sizing:border-box}
    body{
      font-family: Arial, sans-serif;
      background:var(--bg); color:var(--ink);
      margin:0; text-align:center; line-height:1.55;
    }
    header{
      background:var(--brand); padding:20px 12px;
      box-shadow:0 2px 5px rgba(0,0,0,.08);
    }
    h1{margin:0; color:#444; font-size:1.6rem}
    p.lead{max-width:720px; margin:8px auto 0; font-size:1rem}
    .wrap{max-width:960px; margin:0 auto; padding:16px}

    .gallery{
      display:flex; flex-wrap:wrap; justify-content:center; gap:16px; margin:20px auto;
    }
    .gallery img{
      width:260px; height:260px; object-fit:cover;
      border-radius:12px; box-shadow:0 4px 8px rgba(0,0,0,.12);
      transition:transform .2s ease;
    }
    .gallery img:hover{ transform:scale(1.03) }

    /* Kort */
    .card{
      background:var(--card); border-radius:12px; margin:18px auto;
      box-shadow:0 2px 10px rgba(0,0,0,.06);
      padding:18px; text-align:left; max-width:560px;
    }
    .card h2{ margin:0 0 10px; text-align:center; color:#444; font-size:1.3rem }
    .row{ display:flex; flex-direction:column; gap:6px; margin:12px 0 }
    label{ font-weight:600; font-size:.95rem }
    input, select, textarea{
      width:100%; font-size:16px;
      padding:10px 12px; border:1px solid #ddd; border-radius:10px; background:#fafafa;
    }
    textarea{ min-height:70px; resize:vertical }

    /* Antal med +/‚àí */
    .qty-control{ display:flex; align-items:center; gap:8px }
    .qty-control input{
      text-align:center; max-width:120px; flex:0 0 120px; padding:10px 8px;
    }
    .qty-btn{
      border:none; background:#eee; color:#222; font-weight:700;
      width:40px; height:40px; border-radius:10px; cursor:pointer;
      transition:transform .1s ease;
    }
    .qty-btn:active{ transform:scale(.97) }

    .price-line{
      text-align:center; margin-top:8px; font-weight:700;
      background:var(--pill); border:2px solid var(--pill-b);
      display:inline-block; padding:8px 16px; border-radius:20px;
    }

    .actions{
      display:flex; justify-content:center; gap:10px; flex-wrap:wrap; margin-top:14px;
    }
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      padding:12px 20px; border-radius:28px; font-weight:700;
      text-decoration:none; border:none; cursor:pointer;
      transition:transform .15s ease, opacity .15s ease;
    }
    .btn svg{ width:20px; height:20px }
    .btn:hover{ transform:translateY(-1px) }
    .btn:disabled{ opacity:.55; cursor:not-allowed; transform:none }
    .btn-wa{ background:var(--wa); color:#fff }
    .btn-mail{ background:var(--mail); color:#333 }

    footer{ margin:30px 0 18px; color:var(--muted); font-size:.9rem }

    @media (max-width:640px){
      .gallery img{ width:220px; height:220px }
      .card{ padding:16px; border-radius:12px }
    }
  </style>
</head>
<body>
  <header>
    <h1>Lukas s√§ljer ljuslyktor</h1>
    <p class="lead">Vackra 3D-printade lyktor f√∂r LED-ljus ‚Äì endast 5 ‚Ç¨ styck inklusive LED-ljus!</p>
  </header>

  <div class="wrap">
    <section class="gallery" aria-label="Produktbilder">
      <img src="Ljuslykta1.jpg" alt="3D-printad ljuslykta ‚Äì modell 1">
      <img src="Ljuslykta2.jpg" alt="3D-printad ljuslykta ‚Äì modell 2">
      <img src="Ljuslykta3.jpg" alt="3D-printad ljuslykta ‚Äì modell 3">
    </section>

    <section class="card" aria-labelledby="order-title">
      <h2 id="order-title">Best√§ll via WhatsApp</h2>

      <div class="row">
        <label for="qty">Antal lyktor</label>
        <div class="qty-control">
          <button class="qty-btn" id="minus" aria-label="Minska antal">‚àí</button>
          <input id="qty" type="number" min="1" max="99" inputmode="numeric" placeholder="Ange antal" />
          <button class="qty-btn" id="plus" aria-label="√ñka antal">+</button>
        </div>
      </div>

      <div class="row">
        <label for="color">F√§rg</label>
        <select id="color">
          <option value="">Valfri / mix</option>
          <option>Gr√∂n glitter</option>
          <option>Silver glitter</option>
          <option>R√∂d glitter</option>
          <option>Sj√§lvlysande</option>
        </select>
      </div>

      <div class="row">
        <label for="name">Ditt namn</label>
        <input id="name" type="text" placeholder="F√∂r- och efternamn (frivilligt)" />
      </div>

      <div class="row">
        <label for="note">Meddelande</label>
        <textarea id="note" placeholder="√ñnskem√•l (t.ex. blandade f√§rger, avh√§mtningstid) ‚Äì frivilligt"></textarea>
      </div>

      <div style="text-align:center">
        <span class="price-line" id="priceTag">Summa: ‚Äì</span>
      </div>

      <div class="actions">
        <button id="waBtn" class="btn btn-wa" disabled>
          <!-- WhatsApp ikon -->
          <svg viewBox="0 0 32 32" aria-hidden="true">
            <path fill="currentColor" d="M19.1 17.6c-.3-.2-1.8-.9-2.1-1-.3-.1-.5-.2-.7.2-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.5c-.9-.8-1.5-1.8-1.7-2.1-.2-.3 0-.5.1-.6.1-.1.3-.3.4-.5.1-.2.2-.3.3-.5.1-.2.1-.4 0-.5 0-.2-.7-1.6-1-2.1-.3-.5-.5-.4-.7-.4h-.6c-.2 0-.5.1-.7.3-.2.3-.9.9-.9 2.3s1 2.7 1.1 2.9c.2.3 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.8-.7 2-1.4.3-.7.3-1.3.2-1.4 0 0-.1 0-.3-.2z"/>
            <path fill="currentColor" d="M27.6 4.4C24.9 1.7 21.3.2 17.4.2 8.9.2 2 7.1 2 15.6c0 2.7.7 5.2 2 7.4L2 31.8l8.9-2.3c2.1 1.2 4.5 1.9 6.9 1.9 8.5 0 15.4-6.9 15.4-15.4 0-3.9-1.5-7.5-4.2-10.2zM17.8 28c-2.2 0-4.3-.6-6.1-1.7l-.4-.2-5.3 1.4 1.4-5.2-.2-.4C6 20 5.4 18 5.4 15.7 5.4 8.8 10.9 3.2 17.8 3.2c3.2 0 6.2 1.2 8.4 3.5 2.2 2.2 3.5 5.2 3.5 8.4 0 6.9-5.6 12.9-11.9 12.9z"/>
          </svg>
          Best√§ll via WhatsApp
        </button>

        <button id="mailBtn" class="btn btn-mail" disabled>
          <!-- Kuvert ikon -->
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor" d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4-8 5L4 8V6l8 5 8-5v2Z"/>
          </svg>
          Best√§ll via e-post
        </button>
      </div>

      <p style="text-align:center; color:#666; font-size:.95rem; margin-top:8px">
        N√§r du trycker p√• en knapp √∂ppnas din app med ett f√§rdigt meddelande ‚Äì du beh√∂ver bara skicka.<br>
        <strong>Leverans eller avh√§mtning kommer vi √∂verens om i WhatsApp.</strong>
      </p>
    </section>

    <section class="card" style="text-align:center">
      <h2>Om Lukas</h2>
      <p>
        Hej! Jag heter Lukas och jag 3D-printar varje ljuslykta sj√§lv i h√•llbart PLA-material.
        De passar perfekt f√∂r LED-ljus och ger ett varmt, mysigt sken ‚Äì en fin present f√∂r bara 5 ‚Ç¨ styck!
      </p>
    </section>
  </div>

  <footer>
    ¬© 2025 Lukas | 3D-printade ljuslyktor f√∂r LED-ljus | Handgjorda i Finland
  </footer>

  <script>
    // ========= Konfiguration =========
    const PRICE_EUR = 5;
    const WHATSAPP_NUMBER = "358505298881"; // ex: 358401234567
    const EMAIL_ADDRESS   = "martin.tylli@anvianet.fi";          // byt till riktig adress

    // ========= Element =========
    const qtyEl   = document.getElementById('qty');
    const minusEl = document.getElementById('minus');
    const plusEl  = document.getElementById('plus');
    const colorEl = document.getElementById('color');
    const nameEl  = document.getElementById('name');
    const noteEl  = document.getElementById('note');
    const priceEl = document.getElementById('priceTag');
    const waBtn   = document.getElementById('waBtn');
    const mailBtn = document.getElementById('mailBtn');

    // ===== Hj√§lpfunktioner =====
    function parseQty() {
      const v = qtyEl.value.trim();
      if (v === "") return NaN;
      const n = parseInt(v, 10);
      return Number.isFinite(n) ? n : NaN;
    }
    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function refreshUI(){
      const q = parseQty();
      const valid = Number.isFinite(q) && q >= 1;
      priceEl.textContent = valid ? `Summa: ${q * PRICE_EUR} ‚Ç¨` : "Summa: ‚Äì";
      waBtn.disabled = !valid;
      mailBtn.disabled = !valid;
    }

    // Till√•t tomt f√§lt n√§r man skriver; klampa f√∂rst vid blur
    qtyEl.addEventListener('input', refreshUI);
    qtyEl.addEventListener('blur', () => {
      let q = parseQty();
      if (!Number.isFinite(q) || q < 1) q = 1;
      q = clamp(q, 1, 99);
      qtyEl.value = q;
      refreshUI();
    });

    // + / ‚àí: f√∂rsta + fr√•n tomt blir 1 (inte 2)
    minusEl.addEventListener('click', () => {
      let q = parseQty();
      if (!Number.isFinite(q)) q = 1;
      else q = clamp(q - 1, 1, 99);
      qtyEl.value = q;
      qtyEl.dispatchEvent(new Event('input'));
    });
    plusEl.addEventListener('click', () => {
      let q = parseQty();
      if (!Number.isFinite(q)) q = 0; // starta fr√•n 0 ‚Üí +1 = 1
      q = clamp(q + 1, 1, 99);
      qtyEl.value = q;
      qtyEl.dispatchEvent(new Event('input'));
    });

    // Startl√§ge
    refreshUI();

    // Bygg best√§llningstext
    function buildMessage(q){
      const color = colorEl.value.trim();
      const buyer = nameEl.value.trim();
      const note  = noteEl.value.trim();
      const lines = [
        "Hej Lukas! üëã",
        `Jag vill best√§lla ${q} st 3D-printade ljuslyktor.`,
        color ? `F√§rg: ${color}` : null,
        `Pris: ${PRICE_EUR} ‚Ç¨ / st`,
        `Summa: ${q * PRICE_EUR} ‚Ç¨`,
        buyer ? `Namn: ${buyer}` : null,
        note  ? `Meddelande: ${note}` : null,
        "",
        "Leverans eller avh√§mtning kommer vi √∂verens om h√§r i chatten. üïØÔ∏è",
        "Skickat via hemsidan ‚úÖ"
      ].filter(Boolean);
      return lines.join("\n");
    }

    // Nollst√§ll formul√§ret
    function resetForm(){
      qtyEl.value = "";
      colorEl.value = "";
      nameEl.value = "";
      noteEl.value = "";
      refreshUI();
    }

    // √ñppna WhatsApp
    waBtn.addEventListener('click', () => {
      const q = parseQty();
      if (!Number.isFinite(q) || q < 1) return;
      if (!WHATSAPP_NUMBER || /[^\d]/.test(WHATSAPP_NUMBER)){
        alert("Konfigurera ditt WhatsApp-nummer i koden (utan + och mellanslag).");
        return;
      }
      const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(buildMessage(q))}`;
      window.open(url, "_blank");
      resetForm();
    });

    // √ñppna e-post
    mailBtn.addEventListener('click', () => {
      const q = parseQty();
      if (!Number.isFinite(q) || q < 1) return;
      if (!EMAIL_ADDRESS){
        alert("Ange e-postadress i koden.");
        return;
      }
      const subject = encodeURIComponent("Best√§llning av ljuslyktor");
      const body    = encodeURIComponent(buildMessage(q));
      window.location.href = `mailto:${EMAIL_ADDRESS}?subject=${subject}&body=${body}`;
      resetForm();
    });
  </script>
</body>
</html>

