<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lukas Ljuslyktor</title>
  <style>
    :root{
      --bg:#f7f7f7; --card:#ffffff; --ink:#333; --muted:#666;
      --brand:#ffe7b3; --pill:#fff7e2; --pill-b:#f1d07a;
      --wa:#25D366;
    }
    *{box-sizing:border-box}
    body{
      font-family: Arial, sans-serif;
      background:var(--bg); color:var(--ink);
      margin:0; text-align:center; line-height:1.55;
    }
    header{
      background:var(--brand); padding:20px 12px;
      box-shadow:0 2px 5px rgba(0,0,0,.08);
    }
    h1{margin:0; color:#444; font-size:1.6rem}
    p.lead{max-width:720px; margin:8px auto 0; font-size:1rem}
    .wrap{max-width:960px; margin:0 auto; padding:16px}
    .gallery{
      display:flex; flex-wrap:wrap; justify-content:center; gap:16px; margin:20px auto;
    }
    .gallery img{
      width:260px; height:260px; object-fit:cover;
      border-radius:12px; box-shadow:0 4px 8px rgba(0,0,0,.12);
      transition:transform .2s ease;
    }
    .gallery img:hover{ transform:scale(1.03) }

    /* Best√§llningskort ‚Äì smalare och renare */
    .card{
      background:var(--card); border-radius:12px; margin:18px auto;
      box-shadow:0 2px 10px rgba(0,0,0,.06);
      padding:18px; text-align:left; max-width:560px;
    }
    .card h2{ margin:0 0 10px; text-align:center; color:#444; font-size:1.3rem }
    .row{ display:flex; flex-direction:column; gap:6px; margin:12px 0 }
    label{ font-weight:600; font-size:.95rem }
    input, select, textarea{
      width:100%; font-size:16px; /* undviker iOS-zoom */
      padding:10px 12px; border:1px solid #ddd; border-radius:10px; background:#fafafa;
    }
    textarea{ min-height:70px; resize:vertical }

    /* Antalskontroll */
    .qty-control{
      display:flex; align-items:center; gap:8px;
    }
    .qty-control input{
      text-align:center; max-width:120px; flex:0 0 120px;
      padding:10px 8px;
    }
    .qty-btn{
      border:none; background:#eee; color:#222; font-weight:700;
      width:40px; height:40px; border-radius:10px; cursor:pointer;
      transition:transform .1s ease, box-shadow .1s ease;
    }
    .qty-btn:active{ transform:scale(.97) }
    .price-line{
      text-align:center; margin-top:8px; font-weight:700;
      background:var(--pill); border:2px solid var(--pill-b);
      display:inline-block; padding:8px 16px; border-radius:20px;
    }
    .actions{ text-align:center; margin-top:14px }
    .btn{
      display:inline-block; padding:12px 22px; border-radius:28px; font-weight:700;
      text-decoration:none; border:none; cursor:pointer;
      transition:transform .15s ease, box-shadow .15s ease, opacity .15s ease;
    }
    .btn-wa{ background:var(--wa); color:#fff; box-shadow:0 3px 8px rgba(37,211,102,.35) }
    .btn:hover{ transform:translateY(-1px) }
    .btn:disabled{ opacity:.55; cursor:not-allowed; transform:none; box-shadow:none }

    footer{ margin:30px 0 18px; color:var(--muted); font-size:.9rem }

    @media (max-width:640px){
      .gallery img{ width:220px; height:220px }
      .card{ padding:16px; border-radius:12px }
    }
  </style>
</head>
<body>
  <header>
    <h1>Lukas s√§ljer ljuslyktor</h1>
    <p class="lead">Vackra 3D-printade lyktor f√∂r LED-ljus ‚Äì endast 5 ‚Ç¨ styck inklusive LED-ljus!</p>
  </header>

  <div class="wrap">
    <section class="gallery">
      <img src="Ljuslykta1.jpg" alt="Ljuslykta 1">
      <img src="Ljuslykta2.jpg" alt="Ljuslykta 2">
      <img src="Ljuslykta3.jpg" alt="Ljuslykta 3">
    </section>

    <section class="card">
      <h2>Best√§llning</h2>

      <!-- Antal med + / ‚Äì och fritt textf√§lt -->
      <div class="row">
        <label for="qty">Antal lyktor</label>
        <div class="qty-control">
          <button class="qty-btn" id="minus" aria-label="Minska antal">‚àí</button>
          <input id="qty" type="number" min="1" max="99" inputmode="numeric" placeholder="Ange antal">
          <button class="qty-btn" id="plus" aria-label="√ñka antal">+</button>
        </div>
      </div>

      <div class="row">
        <label for="color">F√§rg</label>
        <select id="color">
          <option value="">Valfri / mix</option>
          <option>Vit</option>
          <option>Svart</option>
          <option>Beige</option>
          <option>Koppar</option>
          <option>Guld</option>
        </select>
      </div>

      <div class="row">
        <label for="name">Ditt namn</label>
        <input id="name" type="text" placeholder="F√∂r- och efternamn (frivilligt)">
      </div>

      <div class="row">
        <label for="note">Meddelande</label>
        <textarea id="note" placeholder="√ñnskem√•l (t.ex. blandade f√§rger, avh√§mtningstid) ‚Äì frivilligt"></textarea>
      </div>

      <div style="text-align:center">
        <span class="price-line" id="priceTag">Summa: ‚Äì</span>
      </div>

      <div class="actions">
        <button id="waBtn" class="btn btn-wa" disabled>Best√§ll via WhatsApp</button>
      </div>

      <p style="text-align:center; color:#666; font-size:.95rem; margin-top:8px">
        N√§r du trycker p√• knappen √∂ppnas WhatsApp med ett f√§rdigt meddelande ‚Äì du beh√∂ver bara skicka.
      </p>
    </section>

    <section class="card" style="text-align:center">
      <h2>Om Lukas</h2>
      <p>
        Hej! Jag heter Lukas och jag 3D-printar varje ljuslykta sj√§lv i h√•llbart PLA-material.
        De passar perfekt f√∂r LED-ljus och ger ett varmt, mysigt sken ‚Äì en fin present f√∂r bara 5 ‚Ç¨ styck!
      </p>
    </section>
  </div>

  <footer>
    ¬© 2025 Lukas | 3D-printade ljuslyktor f√∂r LED-ljus | Handgjorda i Finland
  </footer>

  <script>
    // ========= Konfiguration =========
    const PRICE_EUR = 5;
    const WHATSAPP_NUMBER = "358505298881"; // ex: 358401234567

    // ========= Element =========
    const qtyEl   = document.getElementById('qty');
    const minusEl = document.getElementById('minus');
    const plusEl  = document.getElementById('plus');
    const colorEl = document.getElementById('color');
    const nameEl  = document.getElementById('name');
    const noteEl  = document.getElementById('note');
    const priceEl = document.getElementById('priceTag');
    const waBtn   = document.getElementById('waBtn');

    // Hj√§lp: h√§mta giltigt antal (kan vara tomt under redigering)
    function parseQty() {
      const v = qtyEl.value.trim();
      if (v === "") return NaN;
      const n = parseInt(v, 10);
      return Number.isFinite(n) ? n : NaN;
    }

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    // Uppdatera prisrad + knappl√§ge
    function refreshUI(){
      const q = parseQty();
      if (!Number.isFinite(q) || q < 1){
        priceEl.textContent = "Summa: ‚Äì";
        waBtn.disabled = true;
      } else {
        priceEl.textContent = `Summa: ${q * PRICE_EUR} ‚Ç¨`;
        waBtn.disabled = false;
      }
    }

    // Till√•t tomt f√§lt n√§r man skriver; klampa f√∂rst n√§r man l√§mnar f√§ltet
    qtyEl.addEventListener('input', refreshUI);
    qtyEl.addEventListener('blur', () => {
      let q = parseQty();
      if (!Number.isFinite(q) || q < 1) q = 1;
      q = clamp(q, 1, 99);
      qtyEl.value = q;
      refreshUI();
    });

    // + / ‚Äì knappar
    minusEl.addEventListener('click', () => {
      let q = parseQty();
      if (!Number.isFinite(q)) q = 1;
      q = clamp(q - 1, 1, 99);
      qtyEl.value = q;
      qtyEl.dispatchEvent(new Event('input'));
    });
    plusEl.addEventListener('click', () => {
      let q = parseQty();
      if (!Number.isFinite(q)) q = 1;
      q = clamp(q + 1, 1, 99);
      qtyEl.value = q;
      qtyEl.dispatchEvent(new Event('input'));
    });

    // Startl√§ge
    refreshUI();

    // Bygg WhatsApp-meddelande
    function buildMessage(q){
      const color = colorEl.value.trim();
      const buyer = nameEl.value.trim();
      const note  = noteEl.value.trim();
      let lines = [];
      lines.push("Hej Lukas! üëã");
      lines.push(`Jag vill best√§lla ${q} st 3D-printade ljuslyktor.`);
      if (color) lines.push(`F√§rg: ${color}`);
      lines.push(`Pris: ${PRICE_EUR} ‚Ç¨ / st`);
      lines.push(`Summa: ${q * PRICE_EUR} ‚Ç¨`);
      if (buyer) lines.push(`Namn: ${buyer}`);
      if (note)  lines.push(`Meddelande: ${note}`);
      lines.push("");
      lines.push("Skickat via hemsidan ‚úÖ");
      return lines.join("\n");
    }

    // √ñppna WhatsApp
    waBtn.addEventListener('click', () => {
      const q = parseQty();
      if (!Number.isFinite(q) || q < 1){ return; }
      if (!WHATSAPP_NUMBER || /[^\d]/.test(WHATSAPP_NUMBER)){
        alert("Konfigurera ditt WhatsApp-nummer i koden (internationellt format utan + eller mellanslag).");
        return;
      }
      const msg = encodeURIComponent(buildMessage(q));
      const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`;
      window.open(url, '_blank');
    });
  </script>
</body>
</html>
